# payments.starsStatus

**Description** : *Info about the current Telegram Star subscriptions, balance and transaction history &raquo;*

**Layer** : 218

```tl
payments.starsStatus#6c9ce8ed flags:# balance:StarsAmount subscriptions:flags.1?Vector<StarsSubscription> subscriptions_next_offset:flags.2?string subscriptions_missing_balance:flags.4?long history:flags.3?Vector<StarsTransaction> next_offset:flags.0?string chats:Vector<Chat> users:Vector<User> = payments.StarsStatus;
```

---

## Parameters

| Name | Type | Description |
| :---: | :---: | :--- |
| <del style = 'opacity : 0.4'>flags</del> | [`#`](type/#) | Flags, see TL conditional fields |
| <mark>balance</mark> | [`StarsAmount`](type/StarsAmount) | Current Telegram Star balance |
| **subscriptions** | [`flags.1?Vector<StarsSubscription>`](type/StarsSubscription) | Info about current Telegram Star subscriptions, only returned when invoking payments.getStarsTransactions and payments.getStarsSubscriptions |
| **subscriptions_next_offset** | [`flags.2?string`](type/string) | Offset for pagination of subscriptions: only usable and returned when invoking payments.getStarsSubscriptions |
| **subscriptions_missing_balance** | [`flags.4?long`](type/long) | The number of Telegram Stars the user should buy to be able to extend expired subscriptions soon (i.e. the current balance is not enough to extend all expired subscriptions) |
| **history** | [`flags.3?Vector<StarsTransaction>`](type/StarsTransaction) | List of Telegram Star transactions (partial if next_offset is set) |
| **next_offset** | [`flags.0?string`](type/string) | Offset to use to fetch more transactions from the transaction history using payments.getStarsTransactions |
| <mark>chats</mark> | [`Vector<Chat>`](type/Chat) | Chats mentioned in history |
| <mark>users</mark> | [`Vector<User>`](type/User) | Users mentioned in history |

---

## Type

[payments.StarsStatus](type/payments.StarsStatus)

---

## Example

```php
$paymentsStarsStatus = $client->payments->starsStatus(
	balance : $client->starsAmount(
		amount : -7388874146042099031,
		nanos : 8,
	),
	subscriptions : array(
		$client->starsSubscription(
			canceled : true,
			can_refulfill : true,
			missing_balance : true,
			bot_canceled : true,
			id : 'ND86ocbUVHyCMPA3',
			peer : $client->peerUser(
				user_id : 1379434995700557342,
			),
			until_date : 76,
			pricing : $client->starsSubscriptionPricing(
				period : 27,
				amount : 5502329750128236312,
			),
			chat_invite_hash : 'A2lvcKQFdDGUun93',
			title : '1RAUcQEd7ObeSHGi',
			photo : $client->webDocument(
				url : 'https://docs.liveproto.dev',
				access_hash : 1636012140171084417,
				size : 27,
				mime_type : 'dWkt6HGOe7ELD83A',
				attributes : array(
					$client->documentAttributeImageSize(
						w : 46,
						h : 21,
					),
					$client->documentAttributeAnimated(),
					$client->documentAttributeSticker(
						mask : true,
						alt : 'pamY0F7rWJP1OHhu',
						stickerset : $client->inputStickerSetEmpty(...),
						mask_coords : $client->maskCoords(...),
					),
					$client->documentAttributeVideo(
						round_message : true,
						supports_streaming : true,
						nosound : true,
						duration : 1111070.3427734375,
						w : 58,
						h : 61,
						preload_prefix_size : 39,
						video_start_ts : -1354558.91796875,
						video_codec : '5TWIxmYZnER93Lbw',
					),
					$client->documentAttributeAudio(
						voice : true,
						duration : 71,
						title : 'f69b0FWy3zATHnZe',
						performer : 'dnMo3wTbLaNr5zO4',
						waveform : "\x4c\x69\x76\x65\x50\x72\x6f\x74\x6f",
					),
					$client->documentAttributeFilename(
						file_name : 'hRvw6TfPem0cjsqZ',
					),
					$client->documentAttributeHasStickers(),
					$client->documentAttributeCustomEmoji(
						free : true,
						text_color : true,
						alt : 'gqrmlO2DJ3bGoKsY',
						stickerset : $client->inputStickerSetEmpty(...),
					),
				),
			),
			invoice_slug : '9z5gRjUdvm31bMLx',
		),
	),
	subscriptions_next_offset : 'QvmNtjdluRc8i90n',
	subscriptions_missing_balance : -6165161735241644493,
	history : array(
		$client->starsTransaction(
			refund : true,
			pending : true,
			failed : true,
			gift : true,
			reaction : true,
			subscription : true,
			stargift_upgrade : true,
			floodskip : true,
			business_transfer : true,
			stargift_resale : true,
			paid_message : true,
			posts_search : true,
			premium_gift : true,
			stargift_prepaid_upgrade : true,
			stargift_drop_original_details : true,
			phonegroup_message : true,
			stargift_auction_bid : true,
			id : 'GmNhkKltjeZYnE1X',
			amount : $client->starsAmount(
				amount : -3584368728460639012,
				nanos : 88,
			),
			date : 12,
			peer : $client->starsTransactionPeerUnsupported(),
			title : 'W5iYBpwv3heKAg0D',
			description : 'C9lhV1POWYcH8XmT',
			photo : $client->webDocument(
				url : 'https://docs.liveproto.dev',
				access_hash : -4342209106863613655,
				size : 42,
				mime_type : 'ckOGm84KFhrtILlJ',
				attributes : array(
					$client->documentAttributeImageSize(
						w : 69,
						h : 56,
					),
					$client->documentAttributeAnimated(),
					$client->documentAttributeSticker(
						mask : true,
						alt : '1qGAtHK3NC0EWbDf',
						stickerset : $client->inputStickerSetEmpty(...),
						mask_coords : $client->maskCoords(...),
					),
					$client->documentAttributeVideo(
						round_message : true,
						supports_streaming : true,
						nosound : true,
						duration : 1045789.6298828125,
						w : 99,
						h : 35,
						preload_prefix_size : 24,
						video_start_ts : 1497749.455078125,
						video_codec : 'qlhUdV0Ho3i5CTs7',
					),
					$client->documentAttributeAudio(
						voice : true,
						duration : 54,
						title : 'VgULzl47M8PHDknT',
						performer : 'bfqHZp7lGODQkAhd',
						waveform : "\x4c\x69\x76\x65\x50\x72\x6f\x74\x6f",
					),
					$client->documentAttributeFilename(
						file_name : 'nolCBbg9yN3jAtYi',
					),
					$client->documentAttributeHasStickers(),
					$client->documentAttributeCustomEmoji(
						free : true,
						text_color : true,
						alt : 'OiDaS3rdInzNFhXA',
						stickerset : $client->inputStickerSetEmpty(...),
					),
				),
			),
			transaction_date : 59,
			transaction_url : 'https://docs.liveproto.dev',
			bot_payload : "\x4c\x69\x76\x65\x50\x72\x6f\x74\x6f",
			msg_id : 99,
			extended_media : array(
				$client->messageMediaEmpty(),
				$client->messageMediaPhoto(
					spoiler : true,
					photo : $client->photoEmpty(
						id : 5734754958299963279,
					),
					ttl_seconds : 33,
				),
				$client->messageMediaGeo(
					geo : $client->geoPointEmpty(),
				),
				$client->messageMediaContact(
					phone_number : '+1234567890',
					first_name : 'Tak',
					last_name : 'None',
					vcard : 'x8tG5usCXzDAgYSv',
					user_id : -6794715737633423574,
				),
				$client->messageMediaUnsupported(),
				$client->messageMediaDocument(
					nopremium : true,
					spoiler : true,
					video : true,
					round : true,
					voice : true,
					document : $client->documentEmpty(
						id : 7494061005959651158,
					),
					alt_documents : array(
						$client->documentEmpty(
							id : -1680858523123666770,
						),
						$client->document(
							id : 4917933622091436510,
							access_hash : 8175766576172971761,
							file_reference : "\x4c\x69\x76\x65\x50\x72\x6f\x74\x6f",
							date : 19,
							mime_type : '9DP8LptHGvBIdW1c',
							size : 3062110266219489205,
							thumbs : array(
								$client->photoSizeEmpty(...),
								$client->photoSize(...),
								$client->photoCachedSize(...),
								$client->photoStrippedSize(...),
								$client->photoSizeProgressive(...),
								$client->photoPathSize(...),
							),
							video_thumbs : array(
								$client->videoSize(...),
								$client->videoSizeEmojiMarkup(...),
								$client->videoSizeStickerMarkup(...),
							),
							dc_id : 29,
							attributes : array(
								$client->documentAttributeImageSize(...),
								$client->documentAttributeAnimated(...),
								$client->documentAttributeSticker(...),
								$client->documentAttributeVideo(...),
								$client->documentAttributeAudio(...),
								$client->documentAttributeFilename(...),
								$client->documentAttributeHasStickers(...),
								$client->documentAttributeCustomEmoji(...),
							),
						),
					),
					video_cover : $client->photoEmpty(
						id : -8539449958819888620,
					),
					video_timestamp : 98,
					ttl_seconds : 23,
				),
				$client->messageMediaWebPage(
					force_large_media : true,
					force_small_media : true,
					manual : true,
					safe : true,
					webpage : $client->webPageEmpty(
						id : 2667445273475309513,
						url : 'https://docs.liveproto.dev',
					),
				),
				$client->messageMediaVenue(
					geo : $client->geoPointEmpty(),
					title : 'kQ0dPYl64cvDyq8I',
					address : '4FMdWhgoiIDuRBCJ',
					provider : 'qLaE5HP3rs14QYFx',
					venue_id : 'NEc7l3eHsVfCvutU',
					venue_type : 'kp1vGFnhMC30EKNL',
				),
				$client->messageMediaGame(
					game : $client->game(
						id : 8669792697319809538,
						access_hash : -4762020927357909326,
						short_name : 'MtXszOE6p2hoxWGD',
						title : 't91q025nwbLoEj4J',
						description : 'QrXkHONo3edD0lKt',
						photo : $client->photoEmpty(...),
						document : $client->documentEmpty(...),
					),
				),
				$client->messageMediaInvoice(
					shipping_address_requested : true,
					test : true,
					title : 'kJ7ztaMrDRyhP8NX',
					description : 'cw689ptaDWJqAC7K',
					photo : $client->webDocument(
						url : 'https://docs.liveproto.dev',
						access_hash : -2342061221110040604,
						size : 75,
						mime_type : 'tL6sgZk3Unx1HRhe',
						attributes : array(
							$client->documentAttributeImageSize(...),
							$client->documentAttributeAnimated(...),
							$client->documentAttributeSticker(...),
							$client->documentAttributeVideo(...),
							$client->documentAttributeAudio(...),
							$client->documentAttributeFilename(...),
							$client->documentAttributeHasStickers(...),
							$client->documentAttributeCustomEmoji(...),
						),
					),
					receipt_msg_id : 11,
					currency : 'crd3u6wVbpJfimzq',
					total_amount : 6849334184163903000,
					start_param : 'xFT1zuiRVnWKLJMq',
					extended_media : $client->messageExtendedMediaPreview(
						w : 4,
						h : 16,
						thumb : $client->photoSizeEmpty(...),
						video_duration : 100,
					),
				),
				$client->messageMediaGeoLive(
					geo : $client->geoPointEmpty(),
					heading : 1,
					period : 52,
					proximity_notification_radius : 59,
				),
				$client->messageMediaPoll(
					poll : $client->poll(
						id : 739435948017607552,
						closed : true,
						public_voters : true,
						multiple_choice : true,
						quiz : true,
						question : $client->textWithEntities(...),
						answers : array(
							$client->pollAnswer(...),
						),
						close_period : 24,
						close_date : 98,
					),
					results : $client->pollResults(
						min : true,
						results : array(
							$client->pollAnswerVoters(...),
						),
						total_voters : 85,
						recent_voters : array(
							$client->peerUser(...),
							$client->peerChat(...),
							$client->peerChannel(...),
						),
						solution : 'b6HgmSBGxMX9E8T3',
						solution_entities : array(
							$client->messageEntityUnknown(...),
							$client->messageEntityMention(...),
							$client->messageEntityHashtag(...),
							$client->messageEntityBotCommand(...),
							$client->messageEntityUrl(...),
							$client->messageEntityEmail(...),
							$client->messageEntityBold(...),
							$client->messageEntityItalic(...),
							$client->messageEntityCode(...),
							$client->messageEntityPre(...),
							$client->messageEntityTextUrl(...),
							$client->messageEntityMentionName(...),
							$client->inputMessageEntityMentionName(...),
							$client->messageEntityPhone(...),
							$client->messageEntityCashtag(...),
							$client->messageEntityUnderline(...),
							$client->messageEntityStrike(...),
							$client->messageEntityBankCard(...),
							$client->messageEntitySpoiler(...),
							$client->messageEntityCustomEmoji(...),
							$client->messageEntityBlockquote(...),
						),
					),
				),
				$client->messageMediaDice(
					value : 0,
					emoticon : 'VgcJfli4UwqFQrZv',
				),
				$client->messageMediaStory(
					via_mention : true,
					peer : $client->peerUser(
						user_id : 72125004583824352,
					),
					id : 22,
					story : $client->storyItemDeleted(
						id : 47,
					),
				),
				$client->messageMediaGiveaway(
					only_new_subscribers : true,
					winners_are_visible : true,
					channels : array(-5158851289055804396),
					countries_iso2 : array('2Ih6S34b5aXieTcr'),
					prize_description : '6brfTGoaRkmZVCOU',
					quantity : 2,
					months : 95,
					stars : -9001616761692879761,
					until_date : 82,
				),
				$client->messageMediaGiveawayResults(
					only_new_subscribers : true,
					refunded : true,
					channel_id : 2167545785645649045,
					additional_peers_count : 3,
					launch_msg_id : 77,
					winners_count : 0,
					unclaimed_count : 84,
					winners : array(-5715402650323614839),
					months : 74,
					stars : -7727370153309781366,
					prize_description : 'vkdEM9ljzy0XC8PV',
					until_date : 58,
				),
				$client->messageMediaPaidMedia(
					stars_amount : 1475438262400766245,
					extended_media : array(
						$client->messageExtendedMediaPreview(
							w : 34,
							h : 41,
							thumb : $client->photoSizeEmpty(...),
							video_duration : 24,
						),
						$client->messageExtendedMedia(
							media : $client->messageMediaEmpty(...),
						),
					),
				),
				$client->messageMediaToDo(
					todo : $client->todoList(
						others_can_append : true,
						others_can_complete : true,
						title : $client->textWithEntities(...),
						list : array(
							$client->todoItem(...),
						),
					),
					completions : array(
						$client->todoCompletion(
							id : 46,
							completed_by : $client->peerUser(...),
							date : 70,
						),
					),
				),
				$client->messageMediaVideoStream(
					rtmp_stream : true,
					call : $client->inputGroupCall(
						id : 2298741431144952543,
						access_hash : -2753409025506889815,
					),
				),
			),
			subscription_period : 60,
			giveaway_post_id : 6,
			stargift : $client->starGift(
				limited : true,
				sold_out : true,
				birthday : true,
				can_upgrade : true,
				require_premium : true,
				limited_per_user : true,
				peer_color_available : true,
				auction : true,
				id : 8570544200614799405,
				sticker : $client->documentEmpty(
					id : 5509150592796406648,
				),
				stars : -2099710279965869401,
				availability_remains : 28,
				availability_total : 15,
				availability_resale : 1588736494120652862,
				convert_stars : 93653293163777705,
				first_sale_date : 86,
				last_sale_date : 59,
				upgrade_stars : 309328837738688415,
				resell_min_stars : 3146021415007350122,
				title : 'WGrfL0nqvJxC5Bd7',
				released_by : $client->peerUser(
					user_id : -7945258341114401065,
				),
				per_user_total : 34,
				per_user_remains : 96,
				locked_until_date : 10,
				auction_slug : 'Vl4d3CUf5MHRk0Ac',
				gifts_per_round : 58,
			),
			floodskip_number : 100,
			starref_commission_permille : 98,
			starref_peer : $client->peerUser(
				user_id : 355753616726519782,
			),
			starref_amount : $client->starsAmount(
				amount : -586570754017824348,
				nanos : 10,
			),
			paid_messages : 72,
			premium_gift_months : 74,
			ads_proceeds_from_date : 48,
			ads_proceeds_to_date : 75,
		),
	),
	next_offset : 'eLGHfu9wtjIcy2JX',
	chats : array(
		$client->chatEmpty(
			id : 3899218496548225101,
		),
		$client->chat(
			creator : true,
			kicked : true,
			left : true,
			deactivated : true,
			call_active : true,
			call_not_empty : true,
			noforwards : true,
			id : 5504090798752861882,
			title : 'kHv0KXExMyqNfC7p',
			photo : $client->chatPhotoEmpty(),
			participants_count : 50,
			date : 37,
			version : 81,
			migrated_to : $client->get_input_channel(channel : '@LiveProto'),
			admin_rights : $client->chatAdminRights(
				change_info : true,
				post_messages : true,
				edit_messages : true,
				delete_messages : true,
				ban_users : true,
				invite_users : true,
				pin_messages : true,
				add_admins : true,
				anonymous : true,
				manage_call : true,
				other : true,
				manage_topics : true,
				post_stories : true,
				edit_stories : true,
				delete_stories : true,
				manage_direct_messages : true,
			),
			default_banned_rights : $client->chatBannedRights(
				view_messages : true,
				send_messages : true,
				send_media : true,
				send_stickers : true,
				send_gifs : true,
				send_games : true,
				send_inline : true,
				embed_links : true,
				send_polls : true,
				change_info : true,
				invite_users : true,
				pin_messages : true,
				manage_topics : true,
				send_photos : true,
				send_videos : true,
				send_roundvideos : true,
				send_audios : true,
				send_voices : true,
				send_docs : true,
				send_plain : true,
				until_date : 70,
			),
		),
		$client->chatForbidden(
			id : -6626746690085966314,
			title : 'CjEAJFzpbYwP208Z',
		),
		$client->channel(
			creator : true,
			left : true,
			broadcast : true,
			verified : true,
			megagroup : true,
			restricted : true,
			signatures : true,
			min : true,
			scam : true,
			has_link : true,
			has_geo : true,
			slowmode_enabled : true,
			call_active : true,
			call_not_empty : true,
			fake : true,
			gigagroup : true,
			noforwards : true,
			join_to_send : true,
			join_request : true,
			forum : true,
			stories_hidden : true,
			stories_hidden_min : true,
			stories_unavailable : true,
			signature_profiles : true,
			autotranslation : true,
			broadcast_messages_allowed : true,
			monoforum : true,
			forum_tabs : true,
			id : -2707683801276961779,
			access_hash : -2426718821040101654,
			title : 'BXiSsmFh51dIz24C',
			username : 'TakNone',
			photo : $client->chatPhotoEmpty(),
			date : 98,
			restriction_reason : array(
				$client->restrictionReason(
					platform : '92zvqOn3L1pw6Jrs',
					reason : 'm2yWIwZn0lqaQkEG',
					text : 'hziaOw7G63lu1eWx',
				),
			),
			admin_rights : $client->chatAdminRights(
				change_info : true,
				post_messages : true,
				edit_messages : true,
				delete_messages : true,
				ban_users : true,
				invite_users : true,
				pin_messages : true,
				add_admins : true,
				anonymous : true,
				manage_call : true,
				other : true,
				manage_topics : true,
				post_stories : true,
				edit_stories : true,
				delete_stories : true,
				manage_direct_messages : true,
			),
			banned_rights : $client->chatBannedRights(
				view_messages : true,
				send_messages : true,
				send_media : true,
				send_stickers : true,
				send_gifs : true,
				send_games : true,
				send_inline : true,
				embed_links : true,
				send_polls : true,
				change_info : true,
				invite_users : true,
				pin_messages : true,
				manage_topics : true,
				send_photos : true,
				send_videos : true,
				send_roundvideos : true,
				send_audios : true,
				send_voices : true,
				send_docs : true,
				send_plain : true,
				until_date : 87,
			),
			default_banned_rights : $client->chatBannedRights(
				view_messages : true,
				send_messages : true,
				send_media : true,
				send_stickers : true,
				send_gifs : true,
				send_games : true,
				send_inline : true,
				embed_links : true,
				send_polls : true,
				change_info : true,
				invite_users : true,
				pin_messages : true,
				manage_topics : true,
				send_photos : true,
				send_videos : true,
				send_roundvideos : true,
				send_audios : true,
				send_voices : true,
				send_docs : true,
				send_plain : true,
				until_date : 35,
			),
			participants_count : 73,
			usernames : array(
				$client->username(
					editable : true,
					active : true,
					username : 'TakNone',
				),
			),
			stories_max_id : $client->recentStory(
				live : true,
				max_id : 13,
			),
			color : $client->peerColor(
				color : 48,
				background_emoji_id : -5658373203212184069,
			),
			profile_color : $client->peerColor(
				color : 100,
				background_emoji_id : -7309489960222416974,
			),
			emoji_status : $client->emojiStatusEmpty(),
			level : 45,
			subscription_until_date : 35,
			bot_verification_icon : -5960949837237192673,
			send_paid_messages_stars : -4656864117049309095,
			linked_monoforum_id : 8704132441531132750,
		),
		$client->channelForbidden(
			broadcast : true,
			megagroup : true,
			id : 6899475440632884106,
			access_hash : -5590543994109341396,
			title : 'aed9yIRuErU3L5io',
			until_date : 48,
		),
	),
	users : array(
		$client->userEmpty(
			id : -7028301684760425768,
		),
		$client->user(
			self : true,
			contact : true,
			mutual_contact : true,
			deleted : true,
			bot : true,
			bot_chat_history : true,
			bot_nochats : true,
			verified : true,
			restricted : true,
			min : true,
			bot_inline_geo : true,
			support : true,
			scam : true,
			apply_min_photo : true,
			fake : true,
			bot_attach_menu : true,
			premium : true,
			attach_menu_enabled : true,
			bot_can_edit : true,
			close_friend : true,
			stories_hidden : true,
			stories_unavailable : true,
			contact_require_premium : true,
			bot_business : true,
			bot_has_main_app : true,
			bot_forum_view : true,
			id : -1717564107006357782,
			access_hash : -6383375917644172835,
			first_name : 'Tak',
			last_name : 'None',
			username : 'TakNone',
			phone : '+1234567890',
			photo : $client->userProfilePhotoEmpty(),
			status : $client->userStatusEmpty(),
			bot_info_version : 80,
			restriction_reason : array(
				$client->restrictionReason(
					platform : 'onxXHcBC1VPwkdIz',
					reason : 'WJHzM10cSFRsBhlv',
					text : 'f0phZw1xtg8bTeRk',
				),
			),
			bot_inline_placeholder : 'XlbUcYiB5smxwEna',
			lang_code : 'VMd9RmwziyOhYTQ0',
			emoji_status : $client->emojiStatusEmpty(),
			usernames : array(
				$client->username(
					editable : true,
					active : true,
					username : 'TakNone',
				),
			),
			stories_max_id : $client->recentStory(
				live : true,
				max_id : 1,
			),
			color : $client->peerColor(
				color : 75,
				background_emoji_id : -407104991034645484,
			),
			profile_color : $client->peerColor(
				color : 65,
				background_emoji_id : 7369117309235946790,
			),
			bot_active_users : 12,
			bot_verification_icon : -1493590152617799087,
			send_paid_messages_stars : -6287317592425716500,
		),
	),
);
```